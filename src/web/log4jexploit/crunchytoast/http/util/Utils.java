/*
 * Copyright (c) 2024 CrunchyToast by Log4JExploit
 */

package web.log4jexploit.crunchytoast.http.util;

import java.io.IOException;
import java.io.InputStream;
import java.util.ArrayList;

// Coded by Zadex at 18/04/2022
public final class Utils {

    public String nextLine(InputStream in) throws IOException {
        StringBuilder data = new StringBuilder();
        int read;
        while((read = in.read()) != 10) {
            if(read == -1)
                throw new IOException("Connecion closed!");
            if(read == 13)
                continue;
            data.append(new String(new byte[]{(byte) read}));
        }
        return data.toString();
    }

    public byte[] toByteArray(ArrayList<Byte> list) {
        byte[] array = new byte[list.size()];
        for(int i = 0; i < list.size(); i++) {
            array[i] = list.get(i);
        }
        return array;
    }

    public void addAtFront(byte[] array, ArrayList<Byte> list) {
        for(int i = 0; i < array.length; i++) {
            list.add(i, array[i]);
        }
    }

    public void addAtEnd(byte[] array, ArrayList<Byte> list) {
        for(int i = list.size(); i < array.length; i++) {
            list.add(i, array[i]);
        }
    }

}
