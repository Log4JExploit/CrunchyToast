/*
 * Copyright (c) 2024 CrunchyToast by Log4JExploit
 * Do you keep my non-compiled source code?
 * Then keep this comment.  (View the license)
 */

package github.log4jexploit.crunchytoast;

import github.log4jexploit.crunchytoast.http.endpoint.HttpArg;
import github.log4jexploit.crunchytoast.http.endpoint.HttpEndpoint;
import github.log4jexploit.crunchytoast.http.inbound.impl.HttpServerBuilder;
import github.log4jexploit.crunchytoast.http.inbound.inf.HttpServer;
import github.log4jexploit.crunchytoast.http.message.inf.HttpRequest;

import static github.log4jexploit.crunchytoast.http.endpoint.HttpArg.Type.REQUEST;

public class Main {

    public static void main(String[] args) {
        HttpServer server = HttpServerBuilder.build(1024, HttpServerBuilder.getDefault());
        server.getResourceManager().registerHandler(new Main());
        server.start();
    }

    @HttpEndpoint(uri = "/dev/link")
    public String process(
            @HttpArg(type = REQUEST) HttpRequest request
    ){
        return "Kinks & Co 50% OFF!!";
    }

    @HttpEndpoint(uri = "/dev/link2")
    public String processOther(
            @HttpArg(type = REQUEST) HttpRequest request
    ){
        return "Link 2";
    }

}
