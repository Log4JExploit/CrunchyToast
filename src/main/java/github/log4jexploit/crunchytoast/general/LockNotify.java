/*
 * Copyright (c) 2022-2024 CrunchyToast by Log4JExploit
 * Do you keep my non-compiled source code?
 * Then keep this comment.  (View the license)
 */

package github.log4jexploit.crunchytoast.general;

public class LockNotify {


    public LockNotify() {

    }

    /**
     * Notify all sleeping threads
     */
    public synchronized void wakeAll() {
        this.notifyAll();
    }

    /**
     * Fall asleep and wait for wakeup call
     */
    public void waitForWake() {
        this.waitForWake(0);
    }

    /**
     * Fall asleep and wait for wakeup call, with a set timeout
     */
    public synchronized void waitForWake(int timeout) {
        try {
            if(timeout > 0) {
                this.wait(timeout);
            } else {
                this.wait();
            }
        } catch (InterruptedException e) {
            throw new RuntimeException(e);
        }
    }
}
