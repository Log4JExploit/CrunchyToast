/*
 * Copyright (c) 2022-2025 CrunchyToast by Log4JExploit
 * Do you keep my non-compiled source code?
 * Then keep this comment.  (View the license)
 */

package github.log4jexploit.crunchytoast.http.message.inf;

import github.log4jexploit.crunchytoast.http.message.impl.HttpResponseImpl;
import github.log4jexploit.crunchytoast.http.util.Http;

import java.nio.charset.StandardCharsets;

public interface HttpResponse extends HttpMessage, Cloneable {

    void setResponseCode(Http.ResponseCode responseCode);

    Http.ResponseCode getResponseCode();

    static HttpResponse createDefault() {
        return new HttpResponseImpl();
    }

    static HttpResponse.Builder compose() {
        return Builder.compose();
    }

    class Builder {
        HttpResponse response;

        public Builder() {
            this.response = createDefault();
        }

        public Builder withCode(Http.ResponseCode code) {
            this.response.setResponseCode(code);
            return this;
        }

        public Builder withResponse(String text) {
            this.response.setContent(text.getBytes(StandardCharsets.UTF_8), Http.ContentType.TXT);
            return this;
        }

        public HttpResponse build() {
            return this.response;
        }

        public static Builder compose() {
            return new Builder();
        }
    }
}
