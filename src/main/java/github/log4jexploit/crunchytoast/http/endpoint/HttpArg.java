/*
 * Copyright (c) 2024 CrunchyToast by Log4JExploit
 * Do you keep my non-compiled source code?
 * Then keep this comment.  (View the license)
 */

package github.log4jexploit.crunchytoast.http.endpoint;

import github.log4jexploit.crunchytoast.http.inbound.inf.HttpClient;
import github.log4jexploit.crunchytoast.http.message.body.inf.IBodyContentHandler;
import github.log4jexploit.crunchytoast.http.util.Cookie;

import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.PARAMETER)
public @interface HttpArg {

    Type type() default Type.URI;

    enum Type {
        BODY(IBodyContentHandler.class, true),
        CLIENT(HttpClient.class, false),
        URI(String.class, false),
        COOKIE(Cookie.class, true);

        private final Class<?> parameterClass;
        private final boolean nullable;

        Type(Class<?> parameterClass, boolean nullable) {
            this.parameterClass = parameterClass;
            this.nullable = nullable;
        }

        public boolean isNullable() {
            return nullable;
        }

        public Class<?> getParameterClass() {
            return parameterClass;
        }
    }
}
