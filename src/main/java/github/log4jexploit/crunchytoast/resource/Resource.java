/*
 * Copyright (c) 2022-2025 CrunchyToast by Log4JExploit
 * Do you keep my non-compiled source code?
 * Then keep this comment.  (View the license)
 */

package github.log4jexploit.crunchytoast.resource;

import github.log4jexploit.crunchytoast.http.util.Http;

import java.io.InputStream;
import java.io.UncheckedIOException;

public interface Resource {

    long getSize();

    Http.ContentType getContentType();

    /**
     * Returns all data contained in the resource.<br>
     * This method may throw an {@link UncheckedIOException},<br>
     * if the data exceeds {@code Integer.MAX_VALUE} and would<br>
     * thus not fit inside an array. In that case, try <br>
     * using {@code getDataRange()} instead.
     * @return the data
     */
    byte[] getData();

    /**
     * Retrieves all data from this resource. If (offset + length) exceeds<br>
     * the file size, only the data from offset to the end of the resource is retrieved.
     * @param offset the offset
     * @param length the target length
     * @return the data in the given range
     */
    byte[] getDataRange(long offset, int length);

    InputStream getDataAsStream();

    boolean isSizeKnown();
}