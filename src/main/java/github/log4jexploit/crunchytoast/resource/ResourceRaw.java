/*
 * Copyright (c) 2024 CrunchyToast by Log4JExploit
 * Do you keep my non-compiled source code?
 * Then keep this comment.  (View the license)
 */

package github.log4jexploit.crunchytoast.http.resource;

import github.log4jexploit.crunchytoast.http.endpoint.HttpResource;
import github.log4jexploit.crunchytoast.http.util.Http;

import java.io.InputStream;

/**
 *  Use this class, if you know the size of your resource, but<br>
 *  are not yet able to fetch it. Send the content using <code>sendRaw()</code>.<br>
 *  You may not attempt to trigger a normal read on this resource<br>
 *  as this will result in a <code>RuntimeException</code>, since there
 *  is no content to read from.
 */
public class HttpResourceRaw implements HttpResource {

    private final long size;
    private final Http.ContentType contentType;

    public HttpResourceRaw(long size, Http.ContentType contentType) {
        this.size = size;
        this.contentType = contentType;
    }

    @Override
    public long getSize() {
        return this.size;
    }

    @Override
    public Http.ContentType getContentType() {
        return contentType;
    }

    @Override
    public byte[] getData() {
        throw new RuntimeException("Contents of this resource should never be requested!");
    }

    @Override
    public byte[] getDataRange(long offset, int length) {
        throw new RuntimeException("Contents of this resource should never be requested!");
    }

    @Override
    public InputStream getDataAsStream() {
        throw new RuntimeException("Contents of this resource should never be requested!");
    }

    @Override
    public boolean isSizeKnown() {
        return true;
    }
}
